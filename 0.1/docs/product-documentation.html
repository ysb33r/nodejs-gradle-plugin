<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<meta name="author" content="Schalk W. Cronjé">
<title>NodeJS Gradle Plugin</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-right">
<div id="header">
<h1>NodeJS Gradle Plugin</h1>
<div class="details">
<span id="author" class="author">Schalk W. Cronjé</span><br>
<span id="revnumber">version 0.1</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a></li>
<li><a href="#alternatives">Alternative solutions</a></li>
<li><a href="#_bootstrapping">Bootstrapping</a>
<ul class="sectlevel2">
<li><a href="#_base_plugin">Base plugin</a></li>
<li><a href="#_npm_plugin">NPM plugin</a></li>
<li><a href="#_gulp_plugin">Gulp plugin</a></li>
</ul>
</li>
<li><a href="#_working_with_node">Working with Node</a>
<ul class="sectlevel1">
<li><a href="#node-defaults">Configure global Node defaults</a></li>
<li><a href="#nodeexec">Using nodeexec</a></li>
<li><a href="#platforms">Platform installation support</a></li>
</ul>
</li>
<li><a href="#_working_with_npm">Working with NPM</a>
<ul class="sectlevel1">
<li><a href="#npm-defaults">Configure global NPM defaults</a></li>
<li><a href="#_dependency_management">Dependency management</a></li>
<li><a href="#npmtask">NpmTask type</a>
<ul class="sectlevel2">
<li><a href="#_customisation">Customisation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_working_with_gulp">Working with Gulp</a>
<ul class="sectlevel1">
<li><a href="#_configuring_gulp">Configuring Gulp</a></li>
<li><a href="#_gulptask_type">GulpTask type</a></li>
<li><a href="#_change_dependency_group">Change dependency group</a></li>
</ul>
</li>
<li><a href="#_advanced_topics">Advanced Topics</a>
<ul class="sectlevel1">
<li><a href="#_wrapping_npm_packages">Wrapping NPM packages</a>
<ul class="sectlevel2">
<li><a href="#_creating_the_resolver">Creating the resolver</a></li>
<li><a href="#_creating_the_extension">Creating the extension</a></li>
<li><a href="#_create_a_task_type">Create a task type</a></li>
</ul>
</li>
<li><a href="#_tips_and_tricks">Tips and tricks</a>
<ul class="sectlevel2">
<li><a href="#_overriding_node_repository_uri">Overriding Node Repository URI</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Like many software projects, frameworks, plugins they start off because the author could not find a solution that really fitted their needs and submitting pull requests to existing projects would not have changed the direction of such projects to the needs of the author. This is one of those kind of projects and it is offered against a number of <a href="#alternatives">alternative solutions</a> that are available as Gradle plugins.</p>
</div>
<div class="paragraph">
<p>The aim with the group of plugins is making the integration of <a href="https://nodejs.org">Node.js</a> and related technologies into the build automation pipeline as smooth as possible. This brought with it a number of subgoals:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Simplicity to use defaults - convention over configuration</p>
</li>
<li>
<p>Maximum flexibility if you need it.</p>
</li>
<li>
<p>Removing as many Node.js hurdles from the learning curve as possible.</p>
</li>
<li>
<p>No need to install <code>node</code> or relevant tools - let Gradle take care of it for you.</p>
</li>
<li>
<p>Allow other developers/contributors of your projects to build it with out fiddling with a big list of prerequisites.</p>
</li>
<li>
<p>Isolate builds from potential side effects due to global <code>node</code> installations.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This is an incubating project. Until is <code>1.0</code> released one day, interfaces and DSL may change between <code>0.x</code> releases.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="alternatives">Alternative solutions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is not the only solution. You might also want to look at</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://plugins.gradle.org/plugin/com.palantir.npm-run">Palantir NPM plugin</a> - A Gradle Plugin to create lifecycle tasks that trigger npm run commands.</p>
</li>
<li>
<p><a href="https://plugins.gradle.org/plugin/com.craigburke.client-dependencies">Craig Burke&#8217;s Client Dependencies plugin</a>: Install client side dependencies from NPM or Bower by declaring dependencies in build.gradle].</p>
</li>
<li>
<p><a href="https://plugins.gradle.org/plugin/com.moowork.node">Moowork&#8217;s Node plugin</a>: Gradle plugin for executing node scripts (supports NPM, Yarn, Grunt and Gulp).</p>
</li>
<li>
<p><a href="https://plugins.gradle.org/plugin/me.taku_k.yarn">Takuya Kuwahara&#8217;s Yarn plugin</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bootstrapping">Bootstrapping</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These plugins are available from the plugin portal. Add the appropriate plugin identifiers to your <code>build.gradle</code> file depending on the type of functionality you require.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">plugins {
  id 'org.ysb33r.nodejs.base'  version '0.1'  // <1>
  id 'org.ysb33r.nodejs.npm'   version '0.1'  // <2>
  id 'org.ysb33r.nodejs.gulp'  version '0.1'  // <3>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Base plugin</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Support for using NPM</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Support for using Gulp</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You need at least Gradle 3.3 to use these plugins.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_base_plugin">Base plugin</h3>
<div class="paragraph">
<p>The base plugin provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#node-defaults">nodejs</a> extension.</p>
</li>
<li>
<p><a href="#nodeexec">nodeexec</a> execution extension.</p>
</li>
<li>
<p>Ability to download and use Node distributions.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_npm_plugin">NPM plugin</h3>
<div class="paragraph">
<p>The NPM plugin provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#npm-defaults">npm</a> extension.</p>
</li>
<li>
<p><a href="#npmtask">NpmTask</a> type.</p>
</li>
<li>
<p><code>npmexec</code> project extension to run NPM commands.</p>
</li>
<li>
<p><code>npm</code>, <code>npmDevOnly</code>, <code>npmOptional</code> configurations.</p>
</li>
<li>
<p><code>npmPackage</code> for listing packages in Gradle <code>dependencies</code> blocks.</p>
</li>
<li>
<p><code>NpmExecSpec</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Applying the NPM plugin will apply the base plugin.</p>
</div>
</div>
<div class="sect2">
<h3 id="_gulp_plugin">Gulp plugin</h3>
<div class="paragraph">
<p>The Gulp plugin provides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>gulp</code> project and task extensions</p>
</li>
<li>
<p><code>GulpTask</code> task type.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Applying the Gulp plugin will apply the NPM plugin.</p>
</div>
</div>
</div>
</div>
<h1 id="_working_with_node" class="sect0">Working with Node</h1>
<div class="sect1">
<h2 id="node-defaults">Configure global Node defaults</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Node.js distribution can be supplied in three possible ways:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">nodejs {
    executable version : <span class="string"><span class="delimiter">'</span><span class="content">7.10.0</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
}

nodejs {
    executable path : <span class="string"><span class="delimiter">'</span><span class="content">/path/to/node</span><span class="delimiter">'</span></span> <i class="conum" data-value="2"></i><b>(2)</b>
}

nodejs {
    executable searchPath() <i class="conum" data-value="3"></i><b>(3)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Supply a version and Gradle will take care of downloading the distribution and caching it. It will then used the cached version for running <code>node</code>. This is the preferred way of running Node.js with Gradle as it offers better control over reproducible builds.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Supply a path to the <code>node</code> executable. This works for people that have Node.js installed in standard locations.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Tell Gradle to look for <code>node</code> (or <code>node.exe</code>) in the system search path.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If no executable is configured, then Gradle will attempt to download the version specified in <a href="{api}/org/ysb33r/gradle/nodejs/NodeJSExtension.html#NODEJS_DEFAULT">NodeJSExtension.NODEJS_DEFAULT</a>. If Gradle runs on a <a href="#platforms">non-supported platform</a> this will fail.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="nodeexec">Using nodeexec</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is possible to run <code>node</code> directly from Gradle using the <code>nodeexec</code> project execution extension. It operates in a similar fashion to Gradle&#8217;s <a href="https://docs.gradle.org/3.5/dsl/org.gradle.api.tasks.Exec.html">Exec</a> task, but it has it&#8217;s own <code>node</code> nuances, which the user need to setup correctly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">nodeexec {
    script <span class="string"><span class="delimiter">'</span><span class="content">node_modules/gulp/bin/gulp.js</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
    scriptArgs <span class="string"><span class="delimiter">'</span><span class="content">--help</span><span class="delimiter">'</span></span> <i class="conum" data-value="2"></i><b>(2)</b>
    workingDir npm.homeDirectory <i class="conum" data-value="3"></i><b>(3)</b>
    executable nodejs.resolvedNodeExecutable <i class="conum" data-value="4"></i><b>(4)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specify the name of the script. It can be absolute of relative to the working directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Specify any arguments that will be passed to the script.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Set the working directory for the execution. If this is something installed via NPM, then using the location of the NPM homedirectory from the <code>npm</code> extension will simplify life.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Specify the locaton of the <code>node</code> executable. There are various ways of doig this, but a easy way is to ask the <code>node</code> extension to resolve it.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Consult the <a href="{api}/org/ysb33r/gradle/nodejs/NodeJSExecSpec.html">NodeJSExecSpec API documentation</a> for full details of all of the settings.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="platforms">Platform installation support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These plugins can automatically download, cache and render Node for the following platforms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Linux 32 &amp; 64-bit.</p>
</li>
<li>
<p>Mac 64-bit.</p>
</li>
<li>
<p>Windows 32 &amp; 64-bit.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Should you need to run Gradle on a platform not listed above, but which Node supports and on which Gradle can run, you will need to configure the Node executable via the <code>path</code> or <code>search</code> methods. You can also <a href="https://gitgub.com/ysb33r/nodejs-gradle-plugin">raise an issue</a> to ask for the support or you can submit a PR with the solution.</p>
</div>
</div>
</div>
<h1 id="_working_with_npm" class="sect0">Working with NPM</h1>
<div class="sect1">
<h2 id="npm-defaults">Configure global NPM defaults</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The location of <code>npm-cli.js</code> can be supplied in four possible ways:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">npm {
    executable version : <span class="string"><span class="delimiter">'</span><span class="content">4.5.0</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
}

npm {
    executable path : <span class="string"><span class="delimiter">'</span><span class="content">/path/to/npm</span><span class="delimiter">'</span></span> <i class="conum" data-value="2"></i><b>(2)</b>
}

npm {
    executable searchPath() <i class="conum" data-value="3"></i><b>(3)</b>
}

npm {
    executable defaultNodejs() <i class="conum" data-value="4"></i><b>(4)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Supply a version and Gradle will take care of downloading the specific version of <code>npm</code> caching it. It will then run the cached version. This is an option for people who want to run a version of <code>npm</code> other than the one that ships with Node.js.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Supply a path to the <code>npm</code> executable. This works for people that have <code>npm</code> installed in predefined locations.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Tell Gradle to look for <code>npm</code> (or <code>npm.cmd</code>) in the system search path, then infer loation of <code>npm-cli.js</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Use the version on <code>npm-cli.js</code> that ships with the default version of Node.js. This is also the default operation if nothing is configured.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Gradle does not use the <code>npm</code> or <code>npm.cmd</code> scripts. It uses <code>npm-cli.js</code> directly.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The location of the global and local <code>npmrc</code> files can also be set.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">npm {
  localConfig <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>projectDir<span class="inline-delimiter">}</span></span><span class="content">/npmrc2</span><span class="delimiter">&quot;</span></span>
  globalConfig <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>project.rootProject.projectDir<span class="inline-delimiter">}</span></span><span class="content">/npmrc2</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The default local configuration is always set to an <code>npmrc</code> file located in the root of the root project and the global configuration is set to <code>~/.gradle/npmrc</code>. This is specifically done so that configuration can be set on a project-wide basis for a Gradle project without interference from a possible globally installed Node.js. Placement of global configuration in the Gradle User Home allows a person to set specific global options for Node projects that are built by Gradle.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dependency_management">Dependency management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The NPM plugin adds a <code>npmPackage</code> extention that can be used inside the <code>dependencies</code> block to add NPM dependencies. For convenience it can be used along with the <code>npm</code> configuration that is also added by the same plugin, however nothing prevents you from adding NPM dependencies to other configurations as well.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
    npm npmPackage(name : <span class="string"><span class="delimiter">'</span><span class="content">stringz</span><span class="delimiter">'</span></span>, tag : <span class="string"><span class="delimiter">'</span><span class="content">0.2.2</span><span class="delimiter">'</span></span>)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Anything added with <code>npmPackage</code> can also update <code>package.json</code> depending on the <code>type</code> property.</p>
</div>
<div class="paragraph">
<p>Current properties that can be used are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>scope</code> - NPM scope</p>
</li>
<li>
<p><code>name</code> - NPM package name</p>
</li>
<li>
<p><code>tag</code> - NPM tag</p>
</li>
<li>
<p><code>type</code> - One of <code>prod</code>, <code>dev</code>, <code>optional</code>. If not supplied, will default to <code>prod</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In 0.1 the transitive logic handling is still pretty crude.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="npmtask">NpmTask type</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>NpmTask</code> is a generic task type for running NPM commands. In its simplest form it takes an <code>npm</code> command and a collection or arguments.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">task createPackageJson( type : org.ysb33r.gradle.nodejs.tasks.NpmTask ) {
    command <span class="string"><span class="delimiter">'</span><span class="content">init</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
    cmdArgs <span class="string"><span class="delimiter">'</span><span class="content">-f</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">-y</span><span class="delimiter">'</span></span> <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>npm</code> command</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Arguments that are applicable to the specific command</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_customisation">Customisation</h3>
<div class="paragraph">
<p>By default an <code>NpmTask</code> will obtain the location of <code>node</code> from the <a href="#node-defaults">nodejs project extension</a> and any NPM configuration from the <a href="#npm-defaults">npm project extension</a>. However, this plugin allows you to have a lot of flexibility should you need it. Therefore you can override any of the settings in both of the aforementioned extensions in task extensions by the same name. This allows you to for instance run a specific task with a different version of <code>node</code> than the global configured version.</p>
</div>
<div class="paragraph">
<p>By taking the same previous example, you can do</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">task createPackageJson( type : org.ysb33r.gradle.nodejs.tasks.NpmTask ) {
    command <span class="string"><span class="delimiter">'</span><span class="content">init</span><span class="delimiter">'</span></span>
    cmdArgs <span class="string"><span class="delimiter">'</span><span class="content">-f</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">-y</span><span class="delimiter">'</span></span>

    nodejs {
      executable version : <span class="string"><span class="delimiter">'</span><span class="content">7.10.0</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
    }

    npm {
      localConfig <span class="string"><span class="delimiter">&quot;</span><span class="inline"><span class="inline-delimiter">${</span>projectDir<span class="inline-delimiter">}</span></span><span class="content">/npmrc2</span><span class="delimiter">&quot;</span></span> <i class="conum" data-value="2"></i><b>(2)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Change the specific of <code>node</code> when executing this task.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Use a different local configuration file.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This kind of flexibility is not applicable for probably the majority of cases, but there are specific use cases where this is extremely helpful.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Any other parameters that you would expect to see in an Gradle <code>ExecSpec</code> can be used as well.</p>
</div>
</div>
</div>
</div>
<h1 id="_working_with_gulp" class="sect0">Working with Gulp</h1>
<div class="sect1">
<h2 id="_configuring_gulp">Configuring Gulp</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Support for working with Gulp is available via the Gulp plugin (<code>org.ysb33r.nodejs.gulp</code>). It adds a <code>gulp</code> extension which is the place to configure global settings for working with Gulp.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gulp {
    executable version : <span class="string"><span class="delimiter">'</span><span class="content">1.2.3</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
    gulpFile <span class="string"><span class="delimiter">'</span><span class="content">foo/gulpfile.js</span><span class="delimiter">'</span></span>   <i class="conum" data-value="2"></i><b>(2)</b>
    requires <span class="string"><span class="delimiter">'</span><span class="content">foo</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">bar</span><span class="delimiter">'</span></span>        <i class="conum" data-value="3"></i><b>(3)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Tell Gradle where to find Gulp. The recommended approach is just to specify a version. if nothing is configured gradle will use a default version set with the plugin. See <a href="{api}/org/ysb33r/gradle/nodejs/GulpExtension.html#GULP_DEFAULT">GulpExtension.GULP_DEFAULT</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the location of <code>gulpfile.js</code>. The default is <code>"${project.projectDir}/gulpfile.js"</code>. This causes Gulp to chage working directory to the location of this file. It does however still keep the original working directory from NPM in mind as well.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Add additional requires that will be passed as <code>--requires</code> to Gulp.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In most cases the default settings should suffice and the user will not need to configure anything extra.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Gulp users will be familiar with using <code>task</code> as the entity of work to be processed by the build tool. In this plugin the keyword <code>target</code> is used to signify a Gulp task. This is done to prevent accidental clashes with the common Gradle keyword called <code>task</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gulptask_type">GulpTask type</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">myGulpTask {
    target <span class="string"><span class="delimiter">'</span><span class="content">clean</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the target task to execute. If nothing is configured, the <code>default</code> Gulp task will be executed.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In some cases the global Gulp configuration might not be suitable and per-task customisations can be done by accessing <code>nodejs</code>, <code>npm</code> and <code>gulp</code> extensions on the task itself. the task will always look at the local extensions first before retrieving values from the global extensions.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">myGulpTask {
    gulp {
        gulpFile <span class="string"><span class="delimiter">'</span><span class="content">foo/gulpfile.js</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
    }
    npm {
        homeDirectory <span class="string"><span class="delimiter">'</span><span class="content">foo</span><span class="delimiter">'</span></span> <i class="conum" data-value="2"></i><b>(2)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Override the location of <code>gulpfile.js</code> for this specific task.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Use a different NPM setup to run this task.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This shows the flexibility of the plugin and how behaviour can be changed to deal with very specific situations. In most cases you will not need it, but when you need to do something extraordinary, it shuol dbe able to be configured.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_change_dependency_group">Change dependency group</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default Gulp will be added to <code>devDependencies</code>. It is possible to override and make it a default or optional dependency.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">gulp {
    installGroup NpmDependencyGroup.OPTIONAL <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>See <a href="{api}/org/ysb33r/gradle/nodejs/NpmDependencyGroup.html">NpmDependencyGroup</a> for valid settings.</td>
</tr>
</table>
</div>
</div>
</div>
<h1 id="_advanced_topics" class="sect0">Advanced Topics</h1>
<div class="sect1">
<h2 id="_wrapping_npm_packages">Wrapping NPM packages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you are familiar with NPM just will know that many packages have some entry point script which can be used as a tool on the command-line. You are probably quite familiar with Gulp too and if you already usedh the Gulp functionality that comes with the Gulp plugin, you might be pondering doing the same approach for your favourite Node tool package.</p>
</div>
<div class="paragraph">
<p>The process if doing this is relatively straight-forward. it involved creating an extension and a resolver. Once you have these you can continue implementing your own task types.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The following example are shown in Groovy, but you can use Java or Kotlin for your implementation if you wish.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This approach can be used in a gradle script, <code>buildSrc</code> or a standalone plugin.</p>
</div>
<div class="sect2">
<h3 id="_creating_the_resolver">Creating the resolver</h3>
<div class="paragraph">
<p>Assume for the moment that there is a packaged tool called FooBar which you want to wrap.</p>
</div>
<div class="paragraph">
<p>Firstly create the resovler by extending the abstract base <a href="{api}/org/ysb33r/gradle/nodejs/pkgwrapper/AbstractPackageResolver.html">AbstractPackageResolver</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="annotation">@CompileStatic</span>
<span class="type">class</span> <span class="class">FooBarResolver</span> <span class="directive">extends</span> AbstractPackageResolver {

    FooBarResolver(Project project, NodeJSExtension nodeExtension, NpmExtension npmExtension) { <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="local-variable">super</span>(
          <span class="predefined-constant">null</span>,  <i class="conum" data-value="2"></i><b>(2)</b>
          <span class="string"><span class="delimiter">'</span><span class="content">gulp</span><span class="delimiter">'</span></span>,  <i class="conum" data-value="3"></i><b>(3)</b>
          project,nodeExtension,npmExtension
        )
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This class requires a single constructor that passes appropriate parameters to the base class. The resolver will be attached to a project and will need to know about a NodeJS and a NPM extension.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If the package you are planning to wrap has a scope, add it here otherwise just use <code>null</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The name of the package</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The next step is to create an extension which can consume the resolver.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_the_extension">Creating the extension</h3>
<div class="paragraph">
<p>Continuing on the <code>FooBar</code> example from before create an extension class that extends <a href="{api}/org/ysb33r/gradle/nodejs/pkgwrapper/AbstractPackageWrappingExtension.html">AbstractPackageWrappingExtension</a>.</p>
</div>
<div class="paragraph">
<p>There are three methods in protected scope that you will need to implement in addition to two contructors</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="annotation">@CompileStatic</span>
<span class="type">class</span> <span class="class">FooBarExtension</span> <span class="directive">extends</span> AbstractPackageWrappingExtension&lt;FooBarResolver&gt; {

    FooBarExtension(Project project) { <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="local-variable">super</span>(project)
    }

    FooBarExtension(Task task) { <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="local-variable">super</span>(task)
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="predefined-type">String</span> getExtensionName() { <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="string"><span class="delimiter">'</span><span class="content">name-of-this-extension</span><span class="delimiter">'</span></span>
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> <span class="predefined-type">String</span> getEntryPoint() { <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="string"><span class="delimiter">'</span><span class="content">bin/foobar.js</span><span class="delimiter">'</span></span>
    }

    <span class="annotation">@Override</span>
    <span class="directive">protected</span> FooBarResolver createResolver() { <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="keyword">new</span> FooBarResolver(getProject(),getNodeJSExtension(),getNpmExtension()) <i class="conum" data-value="6"></i><b>(6)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Attaches the extension to a project.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Attaches the extension to a task</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The name that this extension will be known by. This is used by the superclass to resolve project extensions when the extensions are atatched to a task.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>This is the entrypoint script file and must be specified relative to the package folder after installation.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Creates an instance of the resolver that you crafter earlier.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>getProject()</code> is a superclass method that knows whether the extension is attached to a project or a task and will work out the <code>project</code> instance accordingly.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can now add methods to your extension as if necessary to reflect the functionality of the wrapped package. For instance the <a href="{api}/org/ysb33r/gradle/nodejs/GulpExtension.html">GulpExtension</a> class adds <code>gulpFile</code> and <code>requires</code> to deal with the <code>--gulpfile</code> and <code>--requires</code> parameters of <code>gulp.js</code>.</p>
</div>
<div class="paragraph">
<p>If you add methods where the returned values can be overriden in a task in a similar fashion to what can be done in <code>NpmTask</code> and <code>GulpTask</code>, you will need to add some logic to handle those cases. Here is an example of how it is being done in <code>GulpExtension</code> to retrieve the value for <code>gulpFile</code>.</p>
</div>
<div class="listingblock">
<div class="title">GulpExtension.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="predefined-type">File</span> getGulpFile() {
    <span class="keyword">if</span>(task) { <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="local-variable">this</span>.gulpFile != <span class="predefined-constant">null</span> ? getProject().file(<span class="local-variable">this</span>.gulpFile) : projectExtension.getGulpFile()
    } <span class="keyword">else</span> {
        getProject().file(<span class="local-variable">this</span>.gulpFile)
    }
}

<span class="directive">private</span> GulpExtension getProjectExtension() {
    task ? (GulpExtension)getProject().extensions.getByName(NAME) : <span class="local-variable">this</span>  <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If this is attached to a task, check if the value is set. Use it if it is, otherwise defer to the project extension. If this is a project extension use the local value.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A helper to always resolve the correct project extension.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_create_a_task_type">Create a task type</h3>
<div class="paragraph">
<p>In some cases you might want to also add a task type, similar to <code>GulpTask</code>. One approach is to extend <a href="{api}/org/ysb33r/gradlenodejs/tasks/AbstractNodeBaseTask.html">AbstractNodeBaseTask</a>.</p>
</div>
<div class="listingblock">
<div class="title">FooTask.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="annotation">@CompileStatic</span>
<span class="type">class</span> <span class="class">FooTask</span> <span class="directive">extends</span> AbstractNodeBaseTask {

  FooTask() {
    <span class="local-variable">super</span>()
    fooExtension = (FooExtension)(extensions.create(<span class="string"><span class="delimiter">'</span><span class="content">foo</span><span class="delimiter">'</span></span>,FooExtension,<span class="local-variable">this</span>))
  }

  <span class="annotation">@TaskAction</span>
  <span class="type">void</span> exec() {
        NodeJSExecSpec execSpec = createExecSpec() <i class="conum" data-value="1"></i><b>(1)</b>

        execSpec.script fooExtension.resolvedExecutable.executable.absolutePath <i class="conum" data-value="2"></i><b>(2)</b>

        <span class="comment">/* Configure execution specification against any properties */</span>

        runExecSpec(execSpec) <i class="conum" data-value="3"></i><b>(3)</b>

  }

  <span class="directive">private</span> FooExtension fooExtension
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Base class has ability to create and pre-configure an execition specification.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Resolve the script from the resolver.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Execute the execution specification.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tips_and_tricks">Tips and tricks</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_overriding_node_repository_uri">Overriding Node Repository URI</h3>
<div class="paragraph">
<p>There are circumstances where you might want to download Node distributions from elsewhere besides the standard repository. Simply set the system property <code>org.ysb33r.gradle.nodejs.uri</code> to the alternative URI.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.1<br>
Last updated 2017-07-18 23:25:51 CEST
</div>
</div>
</body>
</html>