plugins {
  id 'groovy'
  id 'org.ysb33r.gradletest' version '1.0-beta7'
}

apply from : 'gradle/download-tests.gradle'

version = '0.1-SNAPHOT'
group = 'org.ysb33r.gradle'

repositories {
    jcenter()
//    mavenLocal()

    ivy {
        name 'Downloader for NodeJS distributions under test'
        url 'https://nodejs.org/dist'
        resolve.dynamicMode = false
        layout 'pattern', {
            artifact 'v[revision]/[artifact]-v[revision]-[classifier].[ext]'
        }
    }
}

ext {
    spockGroovyVer = GroovySystem.version.replaceAll(/\.\d+$/,'')
}

dependencies {
    compile localGroovy()
    compile gradleApi()
    compile 'org.ysb33r.gradle:grolifant:0.2'

    testCompile ("org.spockframework:spock-core:1.0-groovy-${spockGroovyVer}") {
        exclude module : 'groovy-all'
    }
    testCompile gradleTestKit()
}

gradleTest {
    versions '2.5', '2.14', '3.0', '3.5'
}



